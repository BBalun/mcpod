// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Ephemeris {
  starId String   @id
  epoch  Decimal?
  period Decimal?
}

model Catalog {
  id Int @id @default(autoincrement())

  starId      String
  julianDate  Decimal
  magnitude   Decimal?
  magErr      Decimal?
  filter      String
  referenceId String

  @@index([starId])
  @@index([referenceId])
}

model Observation {
  id Int @id @default(autoincrement())

  starId      String
  filter      String
  referenceId String

  lambdaEff    Decimal?
  magAverage   Decimal?
  magError     Decimal?
  stdError     Decimal?
  amplitudeEff Decimal?

  // @@unique([starId, filter, referenceId])
  @@index([starId, referenceId])
}

model Reference {
  id Int @id @default(autoincrement())

  referenceId String
  starId      String

  author           String?
  bibcode          String?
  referenceStarIds String?

  @@unique([referenceId, starId])
}

model Measurement {
  id Int @id @default(autoincrement())

  starId      String
  referenceId String
  filter      String
  countr      Int

  @@unique([starId, filter, referenceId])
}
